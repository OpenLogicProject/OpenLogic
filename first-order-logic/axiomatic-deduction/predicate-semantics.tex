% Part: first-order-logic 
% Chapter: axiomatic-proofs 
% Section: predicate-semantics

\documentclass[../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{axp}{prs}

\olsection{Semantics of Predicate Logic}

\begin{defn}[Structure]
  A \emph{!!{structure}} $\Struct{A}$ for $\Lang L_1$ provides a non
  empty \emph{!!{domain}} or \emph{universe} $\Domain{A} = A$ as well
  as:
  \begin{enumerate}
  \item for each !!{constant} $c$ of $\Lang L_1$, an element
    $c^\Struct{A} \in A$;
  \item for each $n$-place !!{predicate} $P$ of $\Lang L_1$
    (other than $\doteq$), an
    $n$-ary relation $P^\Struct{A} \subseteq A^n$;
  \item for each $n$-place !!{function} $f$ of $\Lang L_1$, an
    $n$-ary !!{function} $f^\Struct{A} :  A^n \to A$.
  \end{enumerate}
\end{defn} 

\begin{defn}[!!{Variable} Assignment]
An \emph{assignment} to the !!{variable}s is !!a{function} $s$ that assigns
to each !!{variable} $x$ a member $s(x)$ of $A$. if $s$ is an assignment
$x$ !!a{variable}, and $a \in A$, then $\Subst{s}{a}{x})$ is the assignment
defined as follows:
  \[
  \Subst{s}{a}{x}(y) = 
  \begin{cases}
    a, & \mbox{if $y$ is $x$;}\\
    s(y), & \mbox{otherwise}.
  \end{cases}
  \]
The !!{function} $\Subst{s}{a}{x}$ is the result of shifting $s$ at $x$ and
is called an $x$-variant of $s$.
\end{defn}

\begin{prop}
Each assignment can be ``lifted'' to !!a{function} $\overline s : T_1 \to
A$
assigning a member $\overline s(t)$ of the !!{domain} $A$ to each term $t$
in
  $T_1$, recursively as follows:
  \begin{eqnarray*}
    \overline s(x) &=& s(x), \\
    \overline s(c) &=& c^\Struct{A}, \\
\overline s(ft_1,\ldots,t_n) &=& f^\Struct{A}(\overline
s(t_1),\ldots,\overline s(t_n)).
  \end{eqnarray*}
\end{prop}

\begin{thm} \ollabel{thm:local1}
\emph{Local Determination I}: If $s_1$ and $s_2$ are
assignments that agree on the !!{variable}s occurring in a term $t$, then
they assign the same !!{value} to $t$, i.e., $\overline{s_1}(t) =
  \overline{s_2}(t)$. 
\end{thm}

\begin{proof}
  By induction on $t$.
\end{proof}


\begin{defn}[Satisfaction of !!a{formula}]
  The notion of \emph{satisfaction} of !!a{formula}
  $!A(x_1,\ldots,x_n)$ by an assignment $s$ in a !!{structure}
  $\Struct{A}$, written $\Sat{A}{!A}[s]$, is
  defined by recursion on $!A$:
  \begin{itemize}
  \item $\Sat{A}{Pt_1\ldots t_n}[s]$ if and only if
    $P^\Struct{A}(\overline s(t_1),\ldots,\overline s(t_n))$;
  \item $\Sat{A}{t_1\doteq t_2}[s]$ if and only if $\overline
    s(t_1) = \overline s(t_2)$;
  \item  $\Sat{A}{(\lnot !A)}[s]$ if and only if  $\Sat/{A}{!A}[s]$;
  \item  $\Sat{A}{(!A \lif !B)}[s]$ if and only
    if either  $\Sat/{A}{!A}[s]$ or  $\Sat{A}{!B}[s]$;
  \item $\Sat{A}{\lforall[x][!A]}[s]$ if and only if
    $\Sat{A}{!A}[\Subst{s}{a}{x}]$ for every $a\in
    A$.
 \end{itemize}
\end{defn}

\begin{thm} \ollabel{thm:local II}
  \emph{Local Determination II}:  If $s_1$ and $s_2$ are
  assignments that agree on the !!{variable}s occurring \emph{free} in a
  formula $!A$, then $\Sat{A}{!A}[s_1]$ if and
  only if  $\Sat{A}{!A}[s_2]$. 
\end{thm}

\begin{proof}
  By induction on $!A$. 
\end{proof}

\begin{cor}
  If $!A$ is a sentence, then $\Sat{A}{!A}[s]$
  for some $s$ if and only if $\Sat{A}{!A}[s]$ for
  every $s$.
\end{cor}

\begin{cor}\ollabel{cor:valid}
  $\Sat{A}{!A}[s]$ for every structure $\Struct{A}$
  and assignment $s$, if and only if $\Sat{A}{\lforall[x][!A]}[s]$ 
for every !!{structure} $\Struct{A}$ and assignment $s$.
\end{cor}

\begin{defn}[Satisfaction of Formulas]
  The following notions concern the satisfaction of !!{formula}s and sets
  thereof:
  \begin{enumerate}
\item \ollabel{def:StructTrue} A sentence $!A$ is \emph{true} in a
structure
    $\Struct{A}$, written $\Sat{A}{!A}[]$, if and
only if for some (equivalently: every) assignment $s$,
$\Sat{A}{!A}[s]$.\item \ollabel{def:SetSat} Where $\Gamma$ is a set of
!!{formula}s, $s$
\emph{satisfies}
$\Gamma$ in $\Struct{A}$, written $\Sat{A}{\Gamma}[s]$, if and only if
$\Sat{A}{!B}[s]$ for
    every $!B$ in $\Gamma$.
\item \ollabel{def:Entails} $\Gamma$ \emph{entails} $!A$, written $\Gamma
\Entails
    !A$, if and only if for every structure $\Struct{A}$ and
    assignment $s$, if $\Sat{A}{\Gamma}[s]$, then
    $\Sat{A}{!A}[s]$.
\end{enumerate}
\end{defn}

\begin{thm}\ollabel{thm:SubstThm}
   if $s$ is an assignment in $\Struct{A}$:
  \begin{enumerate}
  \item for all terms $t$ and $t'$, $\overline s(\Subst{t}{t'}{x}) =
    \overline{\Subst{s}{\overline s(t')}{x}}(t)$;
  \item if $t$ is free for $x$ in $!A$, then $\Struct{A}
    \models \Subst{!A}{t}{x}[s]$ if and only if $\Struct{A}
   \models !A\Subst{s}{\overline s(t)}{x}]$
 \end{enumerate}
\end{thm}

\begin{proof}
  By induction on $t$ and $!A$. At the inductive step for
  $\lforall y !A$ (with $y$ a !!{variable} other than $x$), the hypothesis
  is employed as follows: since $t$ is free for $x$ in $\lforall y
  !A$, the !!{variable} $y$ does not occur in $t$, and hence $s$ and
  $\Subst{s}{a}{y}$ agree on $t$, by local determination.
\end{proof}

\end{document}
% Part: first-order-logic
% Chapter: tableaux
% Section: soundness-identity

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{tab}{sid}

\olsection{Soundness with \usetoken{S}{identity}}

\begin{prop}
!!^{tableau}s with rules for identity are sound: no closed !!{tableau}
  is satisfiable.
\end{prop}

\begin{proof}
We just have to show as before that if !!a{tableau} has a satisfiable
branch, the branch resulting from applying one of the rules for~$\eq$
to it is also satisfiable. Let $\Gamma$ be the set of signed
!!{formula}s on the branch, and let $\Struct{M}$ be !!a{structure}
satisfying~$\Gamma$.

Suppose the branch is expanded using~$\eq$, i.e., by adding the signed
!!{formula}~$\sFmla{\True}{\eq[t][t]}$. Trivially,
$\Sat{M}{\eq[t][t]}$, so $\Struct{M}$ also satisfies $\Gamma \cup
\{\sFmla{\True}{\eq[t][t]}\}$.

If the branch is expanded using $\TRule{\True}{\eq}$, we add a signed
!!{formula}~$\sFmla{S}{!A(t_2)}$, but $\Gamma$ contains
both~$\sFmla{\True}{\eq[t_1][t_2]}$ and $\sFmla{\True}{!A(t_1)}$. Thus
we have $\Sat{M}{\eq[t_1][t_2]}$ and $\Sat{M}{!A(t_1)}$. Let $s$ be a
variable assignment with $s(x) = \Value{t_1}{M}$.  By
\olref[syn][ass]{prop:sentence-sat-true}, $\Sat{M}{!A(t_1)}[s]$. Since
$\varAssign{s}{s}{x}$, by \olref[syn][ext]{prop:ext-formulas},
$\Sat{M}{!A(x)}[s]$. since $\Sat{M}{\eq[t_1][t_2]}$, we have
$\Value{t_1}{M} = \Value{t_2}{M}$, and hence $s(x) = \Value{t_2}{M}$.
By applying \olref[syn][ext]{prop:ext-formulas} again, we also have
$\Sat{M}{!A(t_2)}[s]$.  By \olref[syn][ass]{prop:sentence-sat-true},
$\Sat{M}{!A(t_2)}$. The case of $\TRule{\False}{\eq}$ is treated
similarly.
\end{proof}

\end{document}

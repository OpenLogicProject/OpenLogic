% Part: first-order-logic
% Chapter: sequent-calculus
% Section: provability

% verification of properties of provability needed for maximally
% consistent sets in the completeness chapter.

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{seq}{prv}
\olsection{Properties of \usetoken{S}{derivability}}

We will now establish a number of properties of the !!{derivability}
relation.  They are independently interesting, but each will play a
role in the proof of the completeness theorem.

\begin{prop}[Monotony]
\ollabel{prop:monotony}
If $\Gamma \subseteq \Delta$ and $\Gamma \Proves[\Log{LK}] !A$, then $\Delta
\Proves[\Log{LK}] !A$.
\end{prop}

\begin{proof}
Any finite $\Gamma_0 \subseteq \Gamma$ is also a finite subset
of~$\Delta$, so !!a{derivation} of $\Gamma_0 \Sequent !A$ also shows
$\Delta \Proves[\Log{LK}] !A$.
\end{proof}

\begin{prop}[Compactness]
  \ollabel{prop:compact-proves}
  \begin{enumerate}
  \item If $\Gamma \Proves !A$ then there is a finite subset $\Gamma_0
    \subseteq \Gamma$ such that $\Gamma_0 \Proves !A$.
  \item If $\Gamma$ is consistent, every finite subset of~$\Gamma$ is
    consistent.
  \end{enumerate}
\end{prop}

\begin{proof}
  \begin{enumerate}
    \item If $\Gamma \Proves !A$, then there is a finite subset
      $\Gamma_0 \subseteq \Gamma$ such that the sequent $\Gamma_0
      \Sequent !A$ has !!a{derivation}. Consequently, $\Gamma_0
      \Proves !A$.
    \item Follows from (1) by taking $!A \ident \lfalse$.
  \end{enumerate}
\end{proof}

\begin{prop}
  \ollabel{prop:provability-contr} If $\Gamma \Proves[\Log{LK}] !A$
  and $\Gamma \cup \{!A\} \Proves[\Log{LK}] \lfalse$, then $\Gamma$
  is inconsistent.
\end{prop}

\begin{proof}
There are finite $\Gamma_0$ and $\Gamma_1 \subseteq \Gamma$ such that
$\Log{LK}$ !!{derive}s $\Gamma_0 \Sequent !A$ and $\Gamma_1, !A
\Sequent \lfalse$.  Let the $\Log{LK}$-!!{derivation} of $\Gamma_0 \Sequent
!A$ be $\Pi_0$ and the $\Log{LK}$-!!{derivation} of $\Gamma_1, !A
\Sequent \lfalse$ be $\Pi_1$. We can then !!{derive}
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0 \fCenter !A $
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$ \Gamma_1, !A \fCenter \lfalse$
\RightLabel{cut}
\BinaryInf$ \Gamma_0,\Gamma_1 \fCenter \lfalse $
\end{prooftree}

Since $\Gamma_0 \subseteq \Gamma$ and $\Gamma_1 \subseteq \Gamma$,
$\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, hence $\Gamma
\Proves[\Log{LK}] \lfalse$.
\end{proof}

\begin{prop}
\ollabel{prop:provability-lnot} $\Gamma \cup \{!A\}
  \Proves[\Log{LK}] \lfalse$ iff $\Gamma \Proves[\Log{LK}] \lnot !A$.
\end{prop}

\begin{proof}
For the forward direction, suppose that $\Gamma \cup \{!A\}
\Proves[\Log{LK}] \lfalse$. Then there is a finite set $\Gamma_0
\subseteq \Gamma$ such that $\Log{LK}$ !!{derive}s $\Gamma_0, !A
\Sequent \lfalse$.  Let $\Pi_0$ be an $\Log{LK}$-!!{derivation} of
$\Gamma_0, !A \Sequent \lfalse$, and consider
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$\Gamma_0, !A \fCenter \lfalse$
\RightLabel{\RightR{\lnot}}
\UnaryInf$ \Gamma_0 \fCenter \lfalse, \lnot !A$
\AxiomC{$\lfalse \fCenter \quad$}
\RightLabel{cut}
\BinaryInf$ \Gamma_0 \fCenter \lnot !A$
\end{prooftree}

For the reverse direction, suppose that $\Gamma \Proves[\Log{LK}]
\lnot !A$. Then for some finite $\Gamma_1 \subseteq \Gamma$,
$\Log{LK}$ !!{derive}s $\Gamma_1 \Sequent \lnot !A$, say, using
!!a{derivation}~$\Pi_1$. Now consider
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$\Gamma_1 \fCenter \lnot !A$
\AxiomC{$!A \fCenter !A$}
\RightLabel{\LeftR{\lnot}}
\UnaryInf$\lnot !A, !A \fCenter $
\RightLabel{\RightR{\Weakening}}
\UnaryInf$\lnot !A, !A \fCenter \lfalse$
\RightLabel{cut}
\BinaryInf$ \Gamma_1, !A \fCenter \lfalse$
\end{prooftree}
\end{proof}

\begin{prop}
  \ollabel{prop:explicit-inc} If $\Gamma \Proves[\Log{LK}] !A$ and
  $\Gamma \Proves[\Log{LK}] \lnot !A$, then $\Gamma$ is inconsistent.
\end{prop}

\begin{proof}
  Suppose $\Gamma \Proves[\Log{LK}] !A$ and $\Gamma \Proves[\Log{LK}]
  \lnot !A$. Then there are finite subsets $\Gamma_0$ and $\Gamma_1
  \subseteq \Gamma$ and !!{derivation}s $\Pi_0$ and $\Pi_1$ of
  $\Gamma_0 \Sequent !A$ and $\Gamma_1 \Sequent \lnot !A$. Consider
  the derivation
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$\Gamma_0 \fCenter !A$
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$\Gamma_1 \fCenter \lnot !A$
\AxiomC{$!A \fCenter !A$}
\RightLabel{\LeftR{\lnot}}
\UnaryInf$\lnot !A, !A \fCenter $
\RightLabel{cut}
\BinaryInf$!A, \Gamma_1 \fCenter$
\RightLabel{cut}
\BinaryInf$\Gamma_0, \Gamma_1 \fCenter$
\RightLabel{\RightR{\Weakening}}
\UnaryInf$\Gamma_0, \Gamma_1 \fCenter \lfalse$
\end{prooftree}
  
\end{proof}

\begin{prop}
\ollabel{prop:provability-exhaustive} If $\Gamma \cup \{!A\}
\Proves[\Log{LK}] \lfalse$ and $\Gamma \cup \{\lnot !A\}
\Proves[\Log{LK}] \lfalse$, then $\Gamma \Proves[\Log{LK}] \lfalse$.
\end{prop}

\begin{proof}
There are finite sets $\Gamma_0 \subseteq \Gamma$ and $\Gamma_1
\subseteq \Gamma$ and $\Log{LK}$-!!{derivation}s $\Pi_0$ and $\Pi_1$
of $\Gamma_0, !A \Sequent \lfalse$ and $\Gamma_1, \lnot !A \Sequent
\lfalse$, respectively. We can then !!{derive}

\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0, !A \fCenter \lfalse $
\RightLabel{\RightR{\lnot}}
\UnaryInf$ \Gamma_0 \fCenter \lfalse, \lnot !A$
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$ \Gamma_1, \lnot !A \fCenter \lfalse $
\RightLabel{cut}
\BinaryInf$ \Gamma_0, \Gamma_1 \fCenter \lfalse $
\end{prooftree}
Since $\Gamma_0 \subseteq \Gamma$ and $\Gamma_1 \subseteq \Gamma$,
$\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$. Hence $\Gamma
\Proves[\Log{LK}] \lfalse$.
\end{proof}


\begin<prvOr>{prop}
\ollabel{prop:provability-lor-left} If $\Gamma \cup \{!A\}
\Proves[\Log{LK}] C$ and $\Gamma \cup \{!B\} \Proves[\Log{LK}]
C$, then $\Gamma \cup \{!A \lor !B\} \Proves[\Log{LK}] C$.
\end{prop}

\begin<prvOr>{proof}
\iftag{probOr}{Exercise.}{There are finite sets $\Gamma_0,\Gamma_1
  \subseteq \Gamma$ and $\Log{LK}$-!!{derivation}s $\Pi_0$ and $\Pi_1$
  such that
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0, !A \fCenter C$
\doubleLine
\UnaryInf$ \Gamma_0, \Gamma_1, !A \fCenter C$
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$ \Gamma_1, !B \fCenter C$
\doubleLine
\UnaryInf$ \Gamma_0, \Gamma_1, !B \fCenter C$
\RightLabel{\LeftR{\lor}}
\BinaryInf$ \Gamma_0, \Gamma_1, !A \lor !B \fCenter C$
\end{prooftree}
(Recall that double inference lines indicate several weakening
inferences.)

Since $\Gamma_0,\Gamma_1\subseteq \Gamma$ and $\Gamma \cup \{!A \lor
!B\} \Proves[\Log{LK}] C$.}
\end{proof}

\begin{probtag}{probOr}
Prove \olref[fol][seq][prv]{prop:provability-lor-left}.
\end{probtag}

\begin<prvOr>{prop}
\ollabel{prop:provability-lor-right} If $\Gamma \Proves[\Log{LK}] !A$
or $\Gamma \Proves[\Log{LK}] !B$, then $\Gamma \Proves[\Log{LK}] !A
\lor !B$.
\end{prop}

\begin<prvOr>{proof}
\iftag{probOr}{Exercise.}{There is an $\Log{LK}$-!!{derivation}
  $\Pi_0$ and a finite set $\Gamma_0 \subseteq \Gamma$ such that we
  can !!{derive}
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0 \fCenter !A $
\RightLabel{\RightR{\lor}}
\UnaryInf$ \Gamma_0 \fCenter !A \lor !B$
\end{prooftree}
Therefore $\Gamma \Proves[\Log{LK}] !A \lor !B$. The proof for when $\Gamma
\Proves[\Log{LK}] !B$ is similar.}
\end{proof}

\begin{probtag}{probOr}
Prove \olref[fol][seq][prv]{prop:provability-lor-right}.
\end{probtag}

\begin<prvAnd>{prop}
\ollabel{prop:provability-land-left} If $\Gamma \Proves[\Log{LK}] !A
\land !B$ then $\Gamma \Proves[\Log{LK}] !A$ and $\Gamma
\Proves[\Log{LK}] !B$.
\end{prop}

\begin<prvAnd>{proof}
\iftag{probAnd}{Exercise}{If $\Gamma \Proves[\Log{LK}] !A \land !B$,
  there is a finite set $\Gamma_0 \subseteq \Gamma$ and an
  $\Log{LK}$-!!{derivation} $\Pi_0$ of $\Gamma_0 \Sequent !A \land
  !B$. Consider
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0 \fCenter !A \land !B$
\Axiom$!A \fCenter !A$
\RightLabel{\LeftR{\land}}
\UnaryInf$!A \land !B \fCenter !A$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter !A$
\end{prooftree}
Hence, $\Gamma \Proves[\Log{LK}] !A$.  A similar !!{derivation} starting
with $!B \Sequent !B$ on the right side shows that $\Gamma
\Proves[\Log{LK}] !B$.}
\end{proof}

\begin{probtag}{probAnd}
Prove \olref[fol][seq][prv]{prop:provability-land-left}.
\end{probtag}

\begin<prvAnd>{prop}
\ollabel{prop:provability-land-right} If $\Gamma \Proves[\Log{LK}] !A$
and $\Gamma \Proves[\Log{LK}] !B$, then $\Gamma \Proves[\Log{LK}] !A
\land !B$.
\end{prop}

\begin<prvAnd>{proof}
\iftag{probAnd}{Exercise.}{If $\Gamma \Proves[\Log{LK}] !A$ as well as
  $\Gamma \Proves[\Log{LK}] !B$, there are finite sets $\Gamma_0$,
  $\Gamma_1 \subseteq \Gamma$ and an $\Log{LK}$-!!{derivation}s
  $\Pi_0$ of $\Gamma_0 \Sequent !A$ and $\Pi_1$ of $\Gamma_1 \Sequent
  !A$. Consider
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0 \fCenter !A$
\doubleLine
\UnaryInf$ \Gamma_0, \Gamma_1 \fCenter !A$
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$ \Gamma_1 \fCenter !B$
\doubleLine
\UnaryInf$ \Gamma_0, \Gamma_1 \fCenter !B$
\RightLabel{\RightR{\land}}
\BinaryInf$\Gamma_0, \Gamma_1 \fCenter !A \land !B $
\end{prooftree}
Since $\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, we have $\Gamma
\Proves[\Log{LK}] !A \land !B$.}
\end{proof}

\begin{probtag}{probAnd}
Prove \olref[fol][seq][prv]{prop:provability-land-right}.
\end{probtag}

\begin<prvIf>{prop}
\ollabel{prop:provability-mp} If $\Gamma \Proves[\Log{LK}] !A$ and
$\Gamma \Proves[\Log{LK}] !A \lif !B$, then $\Gamma \Proves[\Log{LK}]
!B$.
\end{prop}

\begin<prvIf>{proof}
\iftag{probIf}{Exercise.}{Suppose that $\Gamma \Proves[\Log{LK}] !A$
  and $\Gamma \Proves[\Log{LK}] !A \lif !B$.  There are finite sets
  $\Gamma_0$, $\Gamma_1 \subseteq \Gamma$ such that there are
  $\Log{LK}$-!!{derivation}s $\Pi_0$ of $\Gamma_0 \Sequent !A$ and
  $\Pi_1$ of $\Gamma_1 \Sequent !A \lif !B$. Consider:

\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_1 \fCenter !A \lif !B$
\AxiomC{}
\RightLabel{$\Pi_1$}
\Deduce$\Gamma_0 \fCenter !A $
\AxiomC{$!B \fCenter !B$}
\RightLabel{\LeftR{\lif}}
\BinaryInf$\Gamma_0, !A \lif !B \fCenter !B$
\RightLabel{cut}
\BinaryInf$ \Gamma_0,\Gamma_1 \fCenter !B$
\end{prooftree}
Since $\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, this
means that $\Gamma \Proves[\Log{LK}] !B$.}
\end{proof}

\begin{probtag}{probIf}
Prove \olref[fol][seq][prv]{prop:provability-mp}.
\end{probtag}

\begin<prvIf>{prop}
\ollabel{prop:provability-lif} If $\Gamma \Proves[\Log{LK}] \lnot !A$
or $\Gamma \Proves[\Log{LK}] !B$, then $\Gamma \Proves[\Log{LK}] !A
\lif !B$.
\end{prop}

\begin<prvIf>{proof}
\iftag{probIf}{Exercise.}{First suppose $\Gamma \Proves[\Log{LK}]
  \lnot !A$.  Then for some finite $\Gamma_0 \subseteq \Gamma$ there
  is a $\Log{LK}$-!!{derivation} of $\Gamma_0 \Sequent \lnot !A$. The
  following !!{derivation} shows that $\Gamma \Proves[\Log{LK}] !A
  \lif !B$:
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$ \Gamma_0 \fCenter \lnot !A$
\Axiom$!A \fCenter !A$
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A, !A \fCenter$
\RightLabel{\RightR{\Weakening}}
\UnaryInf$!A, \lnot !A \fCenter !B$
\RightLabel{\RightR{\lif}}
\UnaryInf$\lnot !A \fCenter !A \lif !B$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter !A \lif !B$
\end{prooftree}

Now suppose $\Gamma \Proves[\Log{LK}] !B$.  Then for some finite
$\Gamma_0 \subseteq \Gamma$ there is a $\Log{LK}$-!!{derivation} of
$\Gamma_0 \Sequent !B$. The following !!{derivation} shows that $\Gamma
\Proves[\Log{LK}] !A \lif !B$:
\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi_0$}
\Deduce$\Gamma_0 \fCenter !B$
\Axiom$!B \fCenter !B$
\RightLabel{\LeftR{\Weakening}}
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{\RightR{\lif}}
\UnaryInf$!B \fCenter !A \lif !B$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter !A \lif !B$
\end{prooftree}}
\end{proof}

\begin{probtag}{probIf}
Prove \olref[fol][seq][prv]{prop:provability-lif}.
\end{probtag}

\begin{thm}
\ollabel{thm:strong-generalization} If $c$ is a constant not occurring
in $\Gamma$ or $!A(x)$ and $\Gamma \Proves[\Log{LK}] !A(c)$, then $\Gamma
\Proves[\Log{LK}] \lforall[x][!A(x)]$.
\end{thm}

\begin{proof}
Let $\Pi_0$ be an $\Log{LK}$-!!{derivation} of $\Gamma_0 \Sequent !A(c)$
for some finite $\Gamma_0 \subseteq \Gamma$.  By adding a
$\RightR{\lforall}$ inference, we obtain a proof of $\Gamma \Sequent
\lforall[x][!A(x)]$, since $c$ does not occur in $\Gamma$ or $!A(x)$
and thus the eigenvariable condition is satisfied.
\end{proof}

\begin{thm}
\ollabel{thm:provability-quantifiers}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{If $\Gamma \Proves[\Log{LK}] !A(t)$ then $\Gamma \Proves
  \lexists[x][!A(x)]$.}{}

\tagitem{prvAll}{If $\Gamma \Proves[\Log{LK}] \lforall[x][!A(x)]$ then $\Gamma \Proves
  !A(t)$.}{}
\end{tagenumerate}
\end{thm}

\begin{proof}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{Suppose $\Gamma \Proves[\Log{LK}] !A(t)$. Then for some
  finite~$\Gamma_0 \subseteq \Gamma$, $\Log{LK}$ !!{derive}s $\Gamma_0
  \Sequent !A(t)$. Add an \RightR{\lexists} inference to get
  !!a{derivation} of $\Gamma_0 \Sequent \lexists[x][!A(x)]$.}{}

\tagitem{prvAll}{Suppose $\Gamma \Proves[\Log{LK}] \lforall[x][!A(x)]$. Then there is a
  finite $\Gamma_0 \subseteq \Gamma$ and an $\Log{LK}$-!!{derivation}
  $\Pi$ of $\Gamma_0 \Sequent \lforall[x][!A(x)]$.  Then
% for some reason, prooftree env sometimes doesn't work here
% \begin{prooftree}
\[
\AxiomC{}
\RightLabel{$\Pi$}
\Deduce$\Gamma_0 \fCenter \lforall[x][!A(x)]$
\Axiom$!A(t) \fCenter !A(t)$
\RightLabel{\LeftR{\lforall}}
\UnaryInf$\lforall[x][!A(x)] \fCenter !A(t)$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter  !A(t)$
%\end{prooftree}
\DisplayProof
\]
shows that $\Gamma \Proves[\Log{LK}] !A(t)$.}{}
\end{tagenumerate}
\end{proof}
\end{document}

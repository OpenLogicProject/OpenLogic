% Part: first-order-logic
% Chapter: sequent-calculus
% Section: rules-and-proofs

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{seq}{rul}

\olsection{Rules and \usetoken{P}{derivation}}

\begin{editorial}
  This section collects all the rules propositional connectives and
  quantifiers, but not for identity.  It is planned to divide this
  into separate sections on connectives and quantifiers so that proofs
  for propositional logic can be treated separately
  (\gitissue{77}).
\end{editorial}

Let $\Lang L$ be a first-order language with the usual !!{constant}s,
!!{variable}s, logical symbols, and auxiliary symbols (parentheses
and the comma).

\begin{defn}[Sequent]
A \emph{sequent} is an expression of the form
\[ \Gamma \Sequent \Delta \]
where $\Gamma$ and $\Delta$ are finite (possibly empty) sequences of
!!{sentence}s of the language $\Lang L$. The !!{formula}s in $\Gamma$
are the \emph{antecedent !!{formula}s}, while the !!{formula}s in
$\Delta$ are the \emph{succedent !!{formula}s}.
\end{defn}

The intuitive idea behind a sequent is: if all of the antecedent
!!{formula}s hold, then at least one of the succedent !!{formula}s
holds. That is, if $\Gamma = \tuple{!A_1, \dots, !A_m}$ and
$\Delta = \tuple{!B_1, \dots, !B_n}$, then $\Gamma \Sequent
\Delta$ holds iff
\[
(!A_1 \land \cdots \land !A_m) \lif (!B_1 \lor \cdots \lor
!B_n)
\]
holds. There are two special cases: where $\Gamma$ is empty and when
$\Delta$~is empty. When $\Gamma$ is empty, i.e., $m = 0$, $\quad
\Sequent \Delta$ holds iff $!B_1 \lor \dots \lor !B_n$ holds. When
$\Delta$ is empty, i.e., $n = 0$, $\Gamma \Sequent \quad$ holds iff
$\lnot(!A_1 \land \dots \land !A_m)$ does.  We say a sequent is valid
iff the corresponding !!{formula} is valid.

If $\Gamma$ is a sequence of !!{formula}s, we write $\Gamma, !A$ for
the result of appending $!A$ to the right end of~$\Gamma$ (and $!A,
\Gamma$ for the result of appending $!A$ to the left end
of~$\Gamma$). If $\Delta$ is a sequence of !!{formula}s also, then $\Gamma,
\Delta$ is the concatenation of the two sequences.

\begin{defn}[Initial Sequent]
An \emph{initial sequent} is a sequent
\iftag{prvFalse,prvTrue}{of one of the following forms:
  \begin{enumerate}
    \item $!A \Sequent !A$
    \tagitem{prvTrue}{$\quad \Sequent \ltrue$}{}
    \tagitem{prvFalse}{$\lfalse \Sequent \quad$}{}
  \end{enumerate}}
{of the form $!A \Sequent !A$} for any !!{sentence} $!A$ in the language.
\end{defn}

\begin{defn}[Inference]
An \emph{inference} is an expression of the form
\[
\AxiomC{$S_1$}
\UnaryInfC{$S$}
\DisplayProof
\quad
\textrm{  or  }
\quad
\AxiomC{$S_1$}
\AxiomC{$S_2$}
\BinaryInfC{$S$}
\DisplayProof
\]
where $S, S_1$, and $S_2$ are sequents. $S_1$ and $S_2$ are called the
\emph{upper sequents} or \emph{premises} and $S$ the \emph{lower
  sequent} or \emph{conclusion} of the inference.
\end{defn}

In sequent calculus !!{derivation}s, a correct inference yields 
a valid sequent, provided the upper sequents are valid.

For the following, let $\Gamma, \Delta, \Pi, \Lambda$ represent finite
sequences of !!{sentence}s.

The rules for $\Log{LK}$ are divided into two main types:
\emph{structural} rules and \emph{logical} rules. The logical rules
are further divided into \emph{propositional} rules (quantifier-free)
and \emph{quantifier} rules.

\subsection{Propositional Rules}

The rules are named for the !!{main operator} of the \emph{principal
  !!{formula}} of the inference (the formula containing $!A$ and/or
$!B$ in the lower sequent). Each one comes in two versions, one for
inferring a sequent with the principal formula on the left, and one
with the principal formula on the right.

\subsubsection{Rules for $\lnot$}

\begin{defish}
\Axiom$ \Gamma \fCenter \Delta, !A $
\RightLabel{\LeftR{\lnot}}
\UnaryInf$ \lnot !A, \Gamma \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$!A, \Gamma \fCenter \Delta$
\RightLabel{\RightR{\lnot}}
\UnaryInf$ \Gamma \fCenter \Delta, \lnot !A $
\DisplayProof
\end{defish}

\subsubsection{Rules for $\land$}

\begin{defish}\noindent
\begin{tabular}{l}
\Axiom$ !A, \Gamma \fCenter \Delta$
\RightLabel{\LeftR{\land}}
\UnaryInf$ !A \land !B, \Gamma \fCenter \Delta$
\DisplayProof
\\[3ex]
\Axiom$!B, \Gamma \fCenter \Delta$
\RightLabel{\LeftR{\land}}
\UnaryInf$!A \land !B, \Gamma \fCenter \Delta$
\DisplayProof
\end{tabular}
\hfill
\Axiom$\Gamma \fCenter \Delta, !A$
\Axiom$ \Gamma \fCenter \Delta, !B$
\RightLabel{\RightR{\land}}
\BinaryInf$ \Gamma \fCenter \Delta, !A \land !B $
\DisplayProof
\end{defish}

\subsubsection{Rules for $\lor$}

\begin{defish}
\Axiom$!A, \Gamma \fCenter \Delta$
\Axiom$!B, \Gamma \fCenter \Delta$
\RightLabel{\LeftR{\lor}}
\BinaryInf$!A \lor !B, \Gamma \fCenter \Delta$
\DisplayProof
\hfill
\begin{tabular}{r}
\Axiom$\Gamma \fCenter \Delta, !A$
\RightLabel{\RightR{\lor}}
\UnaryInf$ \Gamma \fCenter \Delta, !A \lor !B$
\DisplayProof
\\[3ex]
\Axiom$ \Gamma \fCenter \Delta, !B$
\RightLabel{\RightR{\lor}}
\UnaryInf$ \Gamma \fCenter \Delta, !A \lor !B$
\DisplayProof
\end{tabular}
\end{defish}

\subsubsection{Rules for $\lif$}

\begin{defish}
\Axiom$ \Gamma \fCenter \Delta, !A$
\Axiom$ !B, \Pi \fCenter \Lambda$
\RightLabel{\LeftR{\lif}}
\BinaryInf$ !A \lif !B, \Gamma, \Pi \fCenter \Delta, \Lambda$
\DisplayProof
\hfill
\Axiom$ !A, \Gamma \fCenter \Delta, !B$
\RightLabel{\RightR{\lif}}
\UnaryInf$ \Gamma \fCenter \Delta, !A \lif !B $
\DisplayProof
\end{defish}

\subsection{Quantifier Rules}

\subsubsection{Rules for $\lforall$}

\begin{defish}
\Axiom$ !A(t), \Gamma \fCenter \Delta$
\RightLabel{\LeftR{\lforall}}
\UnaryInf$ \lforall[x][!A(x)],\Gamma \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$ \Gamma \fCenter \Delta, !A(a) $
\RightLabel{\RightR{\lforall}}
\UnaryInf$ \Gamma \fCenter \Delta, \lforall[x][!A(x)]$
\DisplayProof
\end{defish}

In \LeftR{\lforall}, $t$ is a closed term (i.e., one without
variables). In \RightR{\lforall}, $a$~is !!a{constant} which must
not occur anywhere in the lower sequent of the \RightR{\lforall}
rule. We call $a$ the \emph{eigenvariable} of the \RightR{\forall}
inference.

\subsubsection{Rules for $\lexists$}

\begin{defish}
\Axiom$ !A(a), \Gamma \fCenter \Delta $
\RightLabel{\LeftR{\lexists}}
\UnaryInf$ \lexists[x][!A(x)], \Gamma \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$ \Gamma \fCenter \Delta, !A(t) $
\RightLabel{\RightR{\lexists}}
\UnaryInf$ \Gamma \fCenter \Delta, \lexists[x][!A(x)]$
\DisplayProof
\end{defish}

Again, $t$~is a closed term, and $a$~is !!a{constant} which does
not occur in the lower sequent of the \LeftR{\lexists} rule. We call
$a$ the \emph{eigenvariable} of the \LeftR{\lexists} inference.

The condition that an eigenvariable not occur in the lower sequent of
the \RightR{\lforall} or \LeftR{\lexists} inference is called the
\emph{eigenvariable condition}.

\begin{explain}
We use the term ``eigenvariable'' even though $a$ in the above rules
is !!a{constant}. This has historical reasons.

In \RightR{\lexists} and \LeftR{\lforall} there are no restrictions on
the term~$t$. On the other hand, in the \LeftR{\lexists} and
\RightR{\lforall} rules, the eigenvariable condition requires that the
!!{constant}~$a$ does not occur anywhere outside of~$!A(a)$ in the
upper sequent. It is necessary to ensure that the system is sound,
i.e., only !!{derive}s sequents that are valid. Without this
condition, the following would be allowed:
\begin{prooftree}
  \Axiom$!A(a) \fCenter !A(a)$
  \RightLabel{*\LeftR{\lexists}}
  \UnaryInf$\lexists[x][!A(x)] \fCenter !A(a)$
  \DisplayProof
  \qquad
  \Axiom$!A(a) \fCenter !A(a)$
  \RightLabel{*\RightR{\lforall}}
  \UnaryInf$!A(a) \fCenter \lforall[x][!A(x)]$
\end{prooftree}
Neither sequent is valid!{}
\end{explain}

\subsection{Structural rules}

Finally, we also need a few rules that allow us to rearrange
!!{sentence}s in the left and right side of a sequent.  Since the
logical rules require that the !!{sentence}s in the premise which the
rule acts upon stand either to the far left or to the far right, we
need an ``exchange'' rule that allows us to move !!{sentence}s to the
right position.  It's also important sometimes to be able to combine
two identical !!{sentence}s into one, and to add !!a{sentence} on
either side.

\subsubsection{Weakening}

\begin{defish}
\Axiom$ \Gamma \fCenter \Delta $
\RightLabel{\LeftR{\Weakening}}
\UnaryInf$ !A, \Gamma \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$ \Gamma \fCenter \Delta$
\RightLabel{\RightR{\Weakening}}
\UnaryInf$ \Gamma \fCenter \Delta, !A$
\DisplayProof
\end{defish}

\subsubsection{Contraction}

\begin{defish}
\Axiom$ !A, !A, \Gamma \fCenter \Delta $
\RightLabel{\LeftR{\Contraction}}
\UnaryInf$ !A, \Gamma \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$ \Gamma \fCenter \Delta, !A, !A$
\RightLabel{\RightR{\Contraction}}
\UnaryInf$ \Gamma \fCenter \Delta, !A$
\DisplayProof
\end{defish}

\subsubsection{Exchange}

\begin{defish}
\Axiom$ \Gamma, !A, !B, \Pi \fCenter \Delta $
\RightLabel{\LeftR{\Exchange}}
\UnaryInf$ \Gamma, !B, !A, \Pi \fCenter \Delta$
\DisplayProof
\hfill
\Axiom$ \Gamma \fCenter \Delta, !A, !B, \Lambda$
\RightLabel{\RightR{\Exchange}}
\UnaryInf$ \Gamma \fCenter \Delta, !B, !A, \Lambda$
\DisplayProof
\end{defish}

A series of weakening, contraction, and exchange inferences will often
be indicated by double inference lines.

The following rule, called ``cut,'' is not strictly speaking
necessary, but makes it a lot easier to reuse and combine derivations.
\begin{defish}
\[
\Axiom$ \Gamma \fCenter \Delta, !A$
\Axiom$ !A, \Pi \fCenter \Lambda $
\RightLabel{\Cut}
\BinaryInf$ \Gamma, \Pi \fCenter \Delta, \Lambda$
\DisplayProof
\]
\end{defish}

\begin{defn}[$\Log{LK}$ !!{derivation}]
An \emph{$\Log{LK}$-!!{derivation}} of a sequent $S$ is a tree of sequents
satisfying the following conditions:
\begin{enumerate}
\item The topmost sequents of the tree are initial sequents.
\item Every sequent in the tree (except $S$) is an upper sequent of an
  inference whose lower sequent stands directly below that sequent in
  the tree.
\end{enumerate}
We then say that $S$ is the \emph{end-sequent} of the !!{derivation} and
that $S$ is \emph{!!{derivable} in $\Log{LK}$} (or $\Log{LK}$-!!{derivable}).
\end{defn}

\end{document}

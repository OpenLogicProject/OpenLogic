% Part: first-order-logic
% Chapter: sequent-calculus
% Section: proving-things

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{seq}{pro}

\olsection{Examples of \usetoken{P}{derivation}}

\begin{ex}
Give an $\Log{LK}$-derivation for the sequent $!A \land !B \Sequent !A$.

We begin by writing the desired end-sequent at the bottom of the derivation.
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A\land !B \fCenter !A$
\end{prooftree}
Next, we need to figure out what kind of inference could have a lower
sequent of this form. This could be a structural rule, but it is a
good idea to start by looking for a logical rule. The only logical
connective occurring in a !!{formula} in the lower sequent is $\land$,
so we're looking for an $\land$ rule, and since the $\land$ symbol
occurs in the antecedent !!{formula}s, we're looking at the \LeftR{\land}
rule.
\begin{prooftree}
\AxiomC{}
\RightLabel{\LeftR{\land}} \UnaryInf$!A\land !B \fCenter !A$
\end{prooftree}
There are two options for what could have been the upper sequent of
the \LeftR{\land} inference: we could have an upper sequent of $!A
\Sequent !A$, or of $!B \Sequent !A$. Clearly, $!A \Sequent !A$ is an
initial sequent (which is a good thing), while $!B \Sequent !A$ is not
derivable in general. We fill in the upper sequent:
\begin{prooftree}
\Axiom$!A \fCenter !A$
\RightLabel{\LeftR{\land}} \UnaryInf$!A\land !B \fCenter !A$
\end{prooftree}
We now have a correct $\Log{LK}$-derivation of the sequent $!A \land
!B \Sequent !A$.
\end{ex}

\begin{ex}
Give an $\Log{LK}$-derivation for the sequent $\lnot !A \lor !B
\Sequent !A \lif !B$.

Begin by writing the desired end-sequent at the bottom of the derivation.
\begin{prooftree}
\AxiomC{}
\UnaryInf$\lnot !A \lor !B \fCenter !A \lif !B$
\end{prooftree}
To find a logical rule that could give us this end-sequent, we look at
the logical connectives in the end-sequent: $\lnot$, $\lor$, and
$\lif$. We only care at the moment about $\lor$ and $\lif$ because
they are !!{main operator}s of !!{sentence}s in the end-sequent,
while $\lnot$ is inside the scope of another connective, so we will
take care of it later. Our options for logical rules for the final
inference are therefore the \LeftR{\lor} rule and the \RightR{\lif}
rule. We could pick either rule, really, but let's pick the \RightR{\lif}
rule (if for no reason other than it allows us to put off
splitting into two branches). According to the form of \RightR{\lif}
inferences which can yield the lower sequent, this must look like:
\begin{prooftree}
\AxiomC{}
\UnaryInf$ !A, \lnot !A \lor !B \fCenter !B $
\RightLabel{\RightR{\lif}} \UnaryInf$ \lnot !A \lor !B \fCenter !A \lif !B $
\end{prooftree}
Now we can apply the \LeftR{\lor} rule. According to the schema, this
must split into two upper sequents as follows:
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A, \lnot !A \fCenter !B$
\AxiomC{}
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{\LeftR{\lor}} \BinaryInf$ !A, \lnot !A \lor !B \fCenter !B $
\RightLabel{\RightR{\lif}} \UnaryInf$ \lnot !A \lor !B \fCenter !A \lif !B $
\end{prooftree}
Remember that we are trying to wind our way up to initial sequents; we
seem to be pretty close!{} The right branch is just one weakening away
from an initial sequent and then it is done:
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A, \lnot !A \fCenter !B$
\Axiom$!B \fCenter !B$
\RightLabel{\LeftR{\Weakening}}
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{\LeftR{\lor}} \BinaryInf$ !A, \lnot !A \lor !B \fCenter !B $
\RightLabel{\RightR{\lif}} \UnaryInf$ \lnot !A \lor !B \fCenter !A \lif !B $
\end{prooftree}

Now looking at the left branch, the only logical connective in any
!!{sentence} is the $\lnot$ symbol in the antecedent !!{sentence}s, so
we're looking at an instance of the \LeftR{\lnot} rule.
\begin{prooftree}
\AxiomC{}
\UnaryInf$ !A \fCenter !B, !A$
\RightLabel{\LeftR{\lnot}}
\UnaryInf$!A, \lnot !A \fCenter !B$
\Axiom$!B \fCenter !B$
\RightLabel{\LeftR{\Weakening}}
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{\LeftR{\lor}} \BinaryInf$ !A, \lnot !A \lor !B \fCenter !B $
\RightLabel{\RightR{\lif}} \UnaryInf$ \lnot !A \lor !B \fCenter !A \lif !B $
\end{prooftree}
Similarly to how we finished off the right branch, we are just one
weakening away from finishing off this left branch as well.
\begin{prooftree}
\Axiom$!A \fCenter !A$
\RightLabel{\RightR{\Weakening}}
\UnaryInf$ !A \fCenter !B, !A$
\RightLabel{\LeftR{\lnot}}
\UnaryInf$!A, \lnot !A \fCenter !B$
\Axiom$!B \fCenter !B$
\RightLabel{\LeftR{\Weakening}}
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{\LeftR{\lor}} \BinaryInf$ !A, \lnot !A \lor !B \fCenter !B $
\RightLabel{\RightR{\lif}} \UnaryInf$ \lnot !A \lor !B \fCenter !A \lif !B $
\end{prooftree}
\end{ex}

\begin{ex}
Give an $\Log{LK}$-derivation of the sequent $\lnot !A \lor \lnot !B
\Sequent \lnot (!A \land !B)$

Using the techniques from above, we start by writing the desired
end-sequent at the bottom.
\begin{prooftree}
\AxiomC{}
\UnaryInf$ \lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B) $
\end{prooftree}
The available main connectives of !!{sentence}s in the end-sequent are
the $\lor$ symbol and the $\lnot$ symbol. It would work to apply
either the \LeftR{\lor} or the \RightR{\lnot} rule here, but we start
with the \RightR{\lnot} rule because it avoids splitting up into two
branches for a moment:
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A \land !B, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B)$
\end{prooftree}
Now we have a choice of whether to look at the \LeftR{\land} or the
\LeftR{\lor} rule. Let's see what happens when we apply the \LeftR{\land}
rule: we have a choice to start with either the sequent $!A,
\lnot !A \lor !B \Sequent \hspace{1em}$ or the sequent $!B, \lnot !A
\lor !B \Sequent \hspace{1em}$. Since the proof is symmetric with
regards to $!A$ and $!B$, let's go with the former:
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\LeftR{\land}}
\UnaryInf$!A \land !B, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B)$
\end{prooftree}
Continuing to fill in the derivation, we see that we run into a problem:
\begin{prooftree}
\Axiom$!A \fCenter !A$
\RightLabel{\LeftR{\lnot}} \UnaryInf$ !A, \lnot !A \fCenter$
\AxiomC{}
\RightLabel{?} \UnaryInf$!A \fCenter !B$
\RightLabel{\LeftR{\lnot}} \UnaryInf$ !A, \lnot !B \fCenter$

\RightLabel{\LeftR{\lor}}
\BinaryInf$!A, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\LeftR{\land}}
\UnaryInf$!A \land !B, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B)$
\end{prooftree}
The top of the right branch cannot be reduced any further, and it
cannot be brought by way of structural inferences to an initial
sequent, so this is not the right path to take. So clearly, it was a
mistake to apply the \LeftR{\land} rule above. Going back to what we
had before and carrying out the \LeftR{\lor} rule instead, we get
\begin{prooftree}
\AxiomC{}
\UnaryInf$!A \land !B, \lnot !A \fCenter $

\AxiomC{}
\UnaryInf$!A \land !B, \lnot !B \fCenter $

\RightLabel{\LeftR{\lor}}
\BinaryInf$!A \land !B, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B)$
\end{prooftree}
Completing each branch as we've done before, we get
\begin{prooftree}
\Axiom$ !A \fCenter!A$
\RightLabel{\LeftR{\land}} \UnaryInf$!A \land !B \fCenter !A$
\RightLabel{\LeftR{\lnot}} \UnaryInf$!A \land !B, \lnot !A \fCenter $

\Axiom$ !B \fCenter !B$
\RightLabel{\LeftR{\land}} \UnaryInf$!A \land !B \fCenter !B$
\RightLabel{\LeftR{\lnot}} \UnaryInf$!A \land !B, \lnot !B \fCenter $

\RightLabel{\LeftR{\lor}}
\BinaryInf$!A \land !B, \lnot !A \lor \lnot !B \fCenter $
\RightLabel{\RightR{\lnot}}
\UnaryInf$\lnot !A \lor \lnot !B \fCenter \lnot (!A \land !B)$
\end{prooftree}
(We could have carried out the $\land$ rules lower than the $\lnot$
rules in these steps and still obtained a correct derivation).
\end{ex}

\begin{ex}
Give an $\Log{LK}$-derivation of the sequent $\lexists[x][\lnot !A(x)]
\Sequent \lnot \lforall[x][!A(x)]$.

When dealing with quantifiers, we have to make sure not to violate the
eigenvariable condition, and sometimes this requires us to play around
with the order of carrying out certain inferences. In general, it
helps to try and take care of rules subject to the eigenvariable
condition first (they will be lower down in the finished proof). Also,
it is a good idea to try and look ahead and try to guess what the
initial sequent might look like. In our case, it will have to be
something like $!A(a) \Sequent !A(a)$. That means that when we are
``reversing'' the quantifier rules, we will have to pick the same
term---what we will call $a$---for both the $\lforall$ and the
$\lexists$ rule. If we picked different terms for each rule, we would
end up with something like $!A(a) \Sequent !A(b)$, which, of course,
is not derivable.

Starting as usual, we write
\begin{prooftree}
\AxiomC{}
\UnaryInf$\lexists[x][\lnot !A(x)] \fCenter \lnot \lforall[x][!A(x)]$
\end{prooftree}
We could either carry out the \LeftR{\exists} rule or the \RightR{\lnot}
rule. Since the \LeftR{\exists} rule is subject to the eigenvariable
condition, it's a good idea to take care of it sooner rather than
later, so we'll do that one first.
\begin{prooftree}
\AxiomC{}
\UnaryInf$ \lnot !A(a) \fCenter \lnot \lforall[x][!A(x)]$
\RightLabel{\LeftR{\lexists}}
\UnaryInf$ \lexists[x][\lnot !A(x)] \fCenter \lnot \lforall[x][!A(x)]$
\end{prooftree}
Applying the \LeftR{\lnot} and \RightR{\lnot} rules and then eliminating
the double $\lnot$ signs on both sides---the reader may do this as an 
exercise---we get
\begin{prooftree}
\AxiomC{}
\UnaryInf$\lforall[x][!A(x)] \fCenter !A(a)$
\Deduce$ \lnot !A(a) \fCenter \lnot \lforall[x] !A(x)$
\RightLabel{\LeftR{\lexists}}
\UnaryInf$ \lexists[x] \lnot !A(x) \fCenter \lnot \lforall[x] !A(x)$
\end{prooftree}
At this point, our only option is to carry out the \LeftR{\forall}
rule. Since this rule is not subject to the eigenvariable restriction,
we're in the clear. Remember, we want to try and obtain an initial
sequent (of the form $!A(a) \Sequent !A(a)$), so we should choose $a$
as our argument for $!A$ when we apply the rule.
\begin{prooftree}
\Axiom$!A(a) \fCenter !A(a)$
\RightLabel{\LeftR{\lforall}}
\UnaryInf$\lforall[x][!A(x)] \fCenter !A(a)$
\Deduce$ \lnot !A(a) \fCenter \lnot \lforall[x][!A(x)]$
\RightLabel{\LeftR{\lexists}}
\UnaryInf$ \lexists[x][ \lnot !A(x)] \fCenter \lnot \lforall[x][!A(x)]$
\end{prooftree}
It is important, especially when dealing with quantifiers, to double
check at this point that the eigenvariable condition has not been
violated. Since the only rule we applied that is subject to the
eigenvariable condition was \LeftR{\exists}, and the eigenvariable~$a$
does not occur in its lower sequent (the end-sequent), this is a
correct derivation.
\end{ex}

\begin{prob}
Give !!{derivation}s of the following sequents:
\begin{enumerate}
\item $\Sequent \lnot(!A \lif !B) \lif (!A \land \lnot !B)$
\item $\lforall[x][(!A(x) \lif !B)] \Sequent (\lexists[y][!A(y)] \lif !B)$
\end{enumerate}
\end{prob}

\end{document}

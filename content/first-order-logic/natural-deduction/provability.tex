% Part: first-order-logic
% Chapter: natural-deduction
% Section: provability

% verification of properties of provability needed for maximally
% consistent sets in the completeness chapter.

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{ntd}{prv}
\olsection{Properties of \usetoken{S}{derivability}}

We will now establish a number of properties of the !!{derivability}
relation.  They are independently interesting, but each will play a
role in the proof of the completeness theorem.

\begin{prop}\ollabel{prop:provability-contr}
  If $\Gamma \Proves !A$ and $\Gamma \cup \{!A\}$ is inconsistent,
  then $\Gamma$ is inconsistent.
\end{prop}

\begin{proof}
Let the !!{derivation} of~$!A$ from~$\Gamma$ be~$\delta_1$ and the
!!{derivation} of~$\lfalse$ from $\Gamma \cup \{!A\}$
be~$\delta_2$. We can then !!{derive}:
\begin{prooftree}
\AxiomC{$\Gamma, \Discharge{!A}{1}$}
\RightLabel{$\delta_2$}
\DeduceC{$\lfalse$}
\DischargeRule{\Intro{\lnot}}{1}
\UnaryInfC{$\lnot !A$}
\AxiomC{$\Gamma$}
\RightLabel{$\delta_1$}
\DeduceC{$!A$}
\RightLabel{\Elim{\lnot}}
\BinaryInfC{$\lfalse$}
\end{prooftree}
In the new !!{derivation}, the assumption~$!A$ is !!{discharged}, so it is
!!a{derivation} from~$\Gamma$.
\end{proof}

\begin{prop}\ollabel{prop:provability-lnot}
  $\Gamma \cup \{!A\}$ is inconsistent iff $\Gamma \Proves \lnot !A$.
\end{prop}

\begin{proof}
For the forward directions, suppose that $\Gamma \cup \{!A\}$ is
inconsistent. Then there is !!a{derivation}~$\delta_0$ of $\lfalse$
from $\Gamma \cup \{!A\}$.  Consider
\[
\AxiomC{$\Gamma, \Discharge{!A}{1}$}
\RightLabel{$\delta$}
\DeduceC{$\lfalse$}
\DischargeRule{\Intro{\lnot}}{1}
\UnaryInfC{$\lnot !A$}
\DisplayProof
\]
This shows that $\Gamma \Proves \lnot !A$.

Conversely, suppose $\Gamma \Proves \lnot !A$ by
!!a{derivation}~$\delta_1$. Then
\begin{prooftree}
\AxiomC{$\Gamma$}
\RightLabel{$\delta_1$}
\DeduceC{$\lnot !A$}
\AxiomC{$!A$}
\RightLabel{\Elim{\lnot}}
\BinaryInfC{$\lfalse$}
\end{prooftree}
shows that $\Gamma \cup \{!A\}$ is inconsistent.
\end{proof}

\begin{prop}\ollabel{prop:explicit-inc}
  If $\Gamma \Proves !A$ and $\lnot !A \in \Gamma$, then $\Gamma$ is
  inconsistent.
\end{prop}

\begin{proof}
  Suppose $\Gamma \Proves !A$ and $\lnot !A \in \Gamma$.  Then there
  is !!a{derivation}~$\delta$ of~$!A$ from~$\Gamma$. Consider this
    simple application of the $\Elim{\lnot}$ rule:
  \begin{prooftree}
    \AxiomC{$\lnot !A$}
    \AxiomC{$\Gamma$}
    \RightLabel{$\delta$}
    \DeduceC{$!A$}
    \RightLabel{\Elim{\lnot}}
    \BinaryInfC{$\lfalse$}
  \end{prooftree}
  Since $\lnot !A \in \Gamma$, all !!{undischarged} assumptions are
  in~$\Gamma$, this shows that $\Gamma \Proves \lfalse$.
\end{proof}


\begin{prop}\ollabel{prop:provability-exhaustive}
  If $\Gamma \cup \{!A\}$ and $\Gamma \cup \{\lnot !A\}$ are both
  inconsistent, then $\Gamma$ is inconsistent.
\end{prop}

\begin{proof}
There are !!{derivation}s $\delta_1$ and $\delta_2$ of~$\lfalse$ from
  $\Gamma \cup \{ !A \}$ and $\lfalse$ from $\Gamma \cup \{ \lnot !A
  \}$, respectively. We can then !!{derive}
\begin{prooftree}
\AxiomC{$\Gamma, \Discharge{\lnot !A}{2}$}
\RightLabel{$\delta_2$}
\DeduceC{$\lfalse$}
\DischargeRule{\Intro{\lnot}}{2}
\UnaryInfC{$\lnot \lnot !A$}
\AxiomC{$\Gamma, \Discharge{!A}{1}$}
\RightLabel{$\delta_1$}
\DeduceC{$\lfalse$}
\DischargeRule{\Intro{\lnot}}{1}
\UnaryInfC{$\lnot !A$}
\RightLabel{\Elim{\lnot}}
\BinaryInfC{$\lfalse$}
\end{prooftree}
Since the assumptions $!A$ and $\lnot !A$ are !!{discharged}, this is
!!a{derivation} of~$\lfalse$ from~$\Gamma$ alone. Hence $\Gamma$ is
inconsistent.
\end{proof}

\begin{prop}\ollabel{prop:provability-land}
  \begin{enumerate}
  \item \ollabel{prop:provability-land-left} Both $!A \land !B \Proves
    !A$ and $!A \land !B \Proves !B$
  \item \ollabel{prop:provability-land-right} $!A, !B \Proves !A \land !B$.
  \end{enumerate}
\end{prop}

\begin{proof}
  \begin{enumerate}
  \item We can !!{derive} both
    \begin{prooftree}
      \AxiomC{$!A \land !B$}
      \RightLabel{\Elim{\land}}
      \UnaryInfC{$!A$}
      \DisplayProof\qquad
      \AxiomC{$!A \land !B$}
      \RightLabel{\Elim{\land}}
      \UnaryInfC{$!B$}
    \end{prooftree}
  \item We can !!{derive}:
    \begin{prooftree}
      \AxiomC{$!A$}
      \AxiomC{$!B$}
      \RightLabel{\Intro{\land}}
      \BinaryInfC{$!A \land !B$}
    \end{prooftree}
  \end{enumerate}
\end{proof}


\begin{prop}\ollabel{prop:provability-lor}
  \begin{enumerate}
  \item $!A \lor !B, \lnot !A, \lnot !B$ is inconsistent.
  \item Both $!A \Proves !A \lor !B$ and $!B \Proves !A \lor !B$.
  \end{enumerate}
\end{prop}

\begin{proof}
  \begin{enumerate}
  \item Consider the following !!{derivation}:
    \begin{prooftree}
      \AxiomC{$!A \lor !B$}
      \AxiomC{$\lnot !A$}
      \AxiomC{$\Discharge{!A}{1}$}
      \RightLabel{\Elim{\lnot}}
      \BinaryInfC{$\lfalse$}
      \AxiomC{$\lnot !B$}
      \AxiomC{$\Discharge{!B}{1}$}
      \RightLabel{\Elim{\lnot}}
      \BinaryInfC{$\lfalse$}
      \DischargeRule{\Elim{\lor}}{1}
      \TrinaryInfC{$\lfalse$}
    \end{prooftree}
    This is a !!{derivation} of~$\lfalse$ from !!{undischarged}
    assumptions $!A \lor !B$, $\lnot !A$, and $\lnot !B$.
  \item We can !!{derive} both
    \begin{prooftree}
      \AxiomC{$!A$}
      \RightLabel{\Intro{\lor}}
      \UnaryInfC{$!A \lor !B$}
      \DisplayProof\qquad
      \AxiomC{$!B$}
      \RightLabel{\Intro{\lor}}
      \UnaryInfC{$!A \lor !B$}
    \end{prooftree}
  \end{enumerate}
\end{proof}

\begin{prop}\ollabel{prop:provability-lif}
  \begin{enumerate}
  \item \ollabel{prop:provability-lif-left}  $!A, !A \lif !B \Proves !B$.
  \item \ollabel{prop:provability-lif-right}
    Both $\lnot !A \Proves !A \lif !B$ and $!B \Proves !A \lif !B$.
  \end{enumerate}
\end{prop}

\begin{proof}
  \begin{enumerate}
  \item We can !!{derive}:
    \begin{prooftree}
      \AxiomC{$!A \lif !B$}
      \AxiomC{$!B$}
      \RightLabel{\Elim{\lif}}
      \BinaryInfC{$!B$}
    \end{prooftree}
    
  \item This is shown by the following two !!{derivation}s:
    \begin{prooftree}
      \AxiomC{$\lnot !A$}
      \AxiomC{$\Discharge{!A}{1}$}
      \RightLabel{\Elim{\lnot}}
      \BinaryInfC{$\lfalse$}
      \RightLabel{\FalseInt}
      \UnaryInfC{$!B$}
      \DischargeRule{\Intro{\lif}}{1}
      \UnaryInfC{$!A \lif !B$}
      \DisplayProof\qquad
      \AxiomC{$!B$}
      \RightLabel{\Intro{\lif}}
      \UnaryInfC{$!A \lif !B$}
    \end{prooftree}
    Note that $\Intro{\lif}$ may, but does not have to, !!{discharge} the
    assumption~$!A$.
  \end{enumerate}
\end{proof}

\begin{thm}
\ollabel{thm:strong-generalization} If $c$ is a constant not occurring
in $\Gamma$ or $!A(x)$ and $\Gamma \Proves !A(c)$, then $\Gamma
\Proves \lforall[x][!A(x)]$.
\end{thm}

\begin{proof}
Let $\delta$ be !!a{derivation} of $!A(c)$ from $\Gamma$.  By adding a
\Intro{\lforall} inference, we obtain a proof of
$\lforall[x][!A(x)]$. Since $c$ does not occur in $\Gamma$ or $!A(x)$,
the eigenvariable condition is satisfied.
\end{proof}

\begin{prop}
\ollabel{prop:provability-quantifiers}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{$!A(t) \Proves \lexists[x][!A(x)]$.}{}

\tagitem{prvAll}{$\lforall[x][!A(x)] \Proves !A(t)$.}{}
\end{tagenumerate}
\end{prop}

\begin{proof}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{The following is a !!{derivation}
  of~$\lexists[x][!A(x)]$ from~$!A(t)$:
\begin{prooftree}
\AxiomC{$!A(t)$}
\RightLabel{\Intro{\lexists}}
\UnaryInfC{$\lexists[x][!A(x)]$}
\end{prooftree}}{}

\tagitem{prvAll}{The following is a !!{derivation} of~$!A(t)$
  from~$\lforall[x][!A(x)]$:
\begin{prooftree}
\AxiomC{$\lforall[x][!A(x)]$}
\RightLabel{\Elim{\lforall}}
\UnaryInfC{$!A(t)$}
\end{prooftree}}{}

\end{tagenumerate}
\end{proof}
\end{document}

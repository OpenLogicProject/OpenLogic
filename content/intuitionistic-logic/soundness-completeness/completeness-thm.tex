% part: intuitionistic-logic
% chapter: soundeness-completeness
% section: completeness-thm

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{int}{sc}{cpl}

\olsection{The Completeness Theorem}

\begin{thm}\ollabel{thm:completeness}
  If $\Gamma \Entails !A$ then $\Gamma \Proves !A$.
\end{thm}

\begin{proof}
  We prove the contrapositive: Suppose $\Gamma \Proves/ !A$. Then by
  \olref[lin]{lem:lindenbaum}, there is a prime set~$\Gamma^*
  \supseteq \Gamma$ such that $\Gamma^* \Proves/ !A$. Consider the
  canonical model~$\mModel{M(\Gamma^*)}$ for $\Gamma^*$ as defined in
  \olref[mod]{defn:canonical-model}. For any $!B \in \Gamma$, $\Gamma^*
  \Proves !B$. Note that $\Gamma^*(\emptyseq) = \Gamma^*$. By the Truth
  Lemma (\olref[tru]{lem:truth}), we have
  $\mSat{M(\Gamma^*)}{!B}[\emptyseq]$ for all $!B \in \Gamma$ and
  $\mSat/{M(\Gamma^*)}{!A}[\emptyseq]$. This shows that $\Gamma
  \Entails/ !A$.
\end{proof}

Observe that the proof of the completeness theorem gives us for 
every $\Gamma \Proves/ !A$ a model with an infinite number of worlds 
witnessing the fact that $\Gamma \Entails/ !A$. The following proposition shows 
that to prove $\Entails !A$ it is enough to prove that $\mSat{M}{!A}$ 
for all finite models (i.e., models with a finite set of worlds).

\begin{thm}\ollabel{thm:decidability}
  If $\Entails/ !A$ then there is a finite model $\mSat/{M'}{!A}$.
\end{thm}
\begin{proof}
  Assume $\mModel{M}=\tuple{W, R, V}$ is such that $\mSat/{M}{!A}$ and $P$ 
  is the set of !!{propositional variable}s occurring in $!A$. Define
  $\mModel{M'}=\tuple{W', R', V'}$ by letting $W' = \Setabs{[w]}{w \in W}$ 
  where $[w] = \Setabs{p \in P}{w \in V(p)}$, $R'$ be the subset relation, 
  and $V'(p)=\Setabs{[w]}{p \in [w]}$. It should be clear that $W'$ is a 
  finite set and that $\mModel{M'}$ is a !!{relational model}.

  It can be shown, by induction on $!A$, that 
  $$ \mSat{M,w}{!A} \text{ iff } \mSat{M',[w]}{!A}$$
  for all formulas $!A$ with only propositional variables from $P$. This is 
  left as an exercise for the reader.
\end{proof}

\begin{prob}
Finish the proof of \olref[int][sc][cpl]{thm:decidability} by showing that 
$\mSat{M,w}{!A}$ iff $\mSat{M',[w]}{!A}$ for all formulas $!A$ with only 
propositional variables from $P$. 
\end{prob}

From \olref{thm:decidability} it follows that there is an algorithm to decide 
whether $\Entails !A$.

\begin{prob}
Show that if $!A$ only contains propositional variables, $\lor$ and $\land$ 
then $\Entails/ !A$. Use this to conclude that $\lif$ is not definable in 
intuitionistic logic from $\lor$ and $\land$. 
\end{prob}

\begin{prob}
By using the completeness theorem prove that if $\Proves !A \lor !B$ then
$\Proves !A$ or $\Proves !B$. (Hint: Assume $\mSat/{M_1}{!A}$ and
$\mSat/{M_2}{!B}$ and contruct a new model $\mModel{M}$ such that
$\mSat/{M}{!A \lor !B}$.)
\end{prob}

\begin{prob} 
Show that if $\mModel{M}$ is a relational model using a linear order then
$\mSat{M}{(!A \lif !B)\lor(!B \lif !A)}$.
\end{prob}

\end{document}
% Part: sets-functions-relations
% Chapter: relations
% Section: equivalence-relations

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{sfr}{rel}{eqv}

\olsection{Equivalence Relations}

The identity relation on a set is reflexive, symmetric, and
transitive. Relations~$R$ that have all three of these properties are very
common.

\begin{defn}[Equivalence relation] 
A relation $R \subseteq A^2$ that is reflexive, symmetric, and
transitive is called an \emph{equivalence relation}. !!^{element}s $x$
and $y$ of~$A$ are said to be \emph{$R$-equivalent} if~$Rxy$.
\end{defn}

Equivalence relations give rise to the notion of an \emph{equivalence
class}. An equivalence relation ``chunks up'' the domain into
different partitions. Within each partition, all the objects are
related to one another; and no objects from different partitions
relate to one another. Sometimes, it's helpful just to talk about
these partitions \emph{directly}. To that end, we introduce a
definition:

\begin{defn}\ollabel{def:equivalenceclass}
Let $R \subseteq A^2$ be an equivalence relation. For each $x \in A$,
the \emph{equivalence class} of $x$ in~$A$ is the set $\equivrep{x}{R}
= \Setabs{y \in A}{Rxy}$. The \emph{quotient} of $A$ under~$R$ is
$\equivclass{A}{R} = \Setabs{\equivrep{x}{R}}{x \in A}$, i.e., the set
of these equivalence classes. 
\end{defn}

The next result vindicates the definition of an equivalence class, in
proving that the equivalence classes are indeed the partitions of~$A$:

\begin{prop}
If $R \subseteq A^2$ is an equivalence relation, then $Rxy$ iff
$\equivrep{x}{R} = \equivrep{y}{R}$.
\end{prop}

\begin{proof}
For the left-to-right direction, suppose $Rxy$, and let $z \in
\equivrep{x}{R}$. By definition, then, $Rxz$. Since $R$ is an
equivalence relation, $Ryz$. (Spelling this out: as $Rxy$ and~$R$ is
symmetric we have $Ryx$, and as $Rxz$ and~$R$ is transitive we
have~$Ryz$.) So $z \in \equivrep{y}{R}$. Generalising,
$\equivrep{x}{R} \subseteq \equivrep{y}{R}$. But exactly similarly,
$\equivrep{y}{R} \subseteq \equivrep{x}{R}$. So $\equivrep{x}{R} =
\equivrep{y}{R}$, by extensionality.

For the right-to-left direction, suppose $\equivrep{x}{R} =
\equivrep{y}{R}$. Since $R$ is reflexive, $Ryy$, so $y \in
\equivrep{y}{R}$. Thus also $y \in \equivrep{x}{R}$ by the assumption
that $\equivrep{x}{R} = \equivrep{y}{R}$. So $Rxy$.
\end{proof}

\begin{ex}
A nice example of equivalence relations comes from modular arithmetic.
For any $a$, $b$, and $n \in \PosInt$, say that $a \equiv_n b$ iff
dividing $a$ by~$n$ gives the same remainder as dividing $b$ by~$n$.
(Somewhat more symbolically: $a \equiv_n b$ iff, for some $k \in
\Int$, $a - b = kn$.) Now, $\equiv_n$ is an equivalence relation, for
any~$n$. And there are exactly $n$ distinct equivalence classes
generated by~$\equiv_n$; that is, $\equivclass{\Nat}{\equiv_n}$ has
$n$ !!{element}s. These are: the set of numbers divisible by $n$
without remainder, i.e., $\equivrep{0}{\equiv_n}$; the set of numbers
divisible by $n$ with remainder~$1$, i.e., $\equivrep{1}{\equiv_n}$;
\ldots; and the set of numbers divisible by~$n$ with remainder~$n-1$,
i.e.,~$\equivrep{n-1}{\equiv_n}$.
\end{ex}

\begin{prob}
Show that $\equiv_n$ is an equivalence relation, for any $n \in
\PosInt$, and that $\equivclass{\Nat}{\equiv_n}$ has exactly $n$ members.
\end{prob}

\end{document}
